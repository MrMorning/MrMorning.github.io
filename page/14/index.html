<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mrmorning.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Chen Geng&#39;s Blog">
<meta property="og:url" content="mrmorning.github.io/page/14/index.html">
<meta property="og:site_name" content="Chen Geng&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Chen Geng">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="mrmorning.github.io/page/14/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Chen Geng's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Chen Geng's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2017/01/20/%E6%91%B8%E9%B1%BC-%E9%85%8D%E7%BD%AE%E7%9A%84vim%E7%9A%84%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5%EF%BC%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/01/20/%E6%91%B8%E9%B1%BC-%E9%85%8D%E7%BD%AE%E7%9A%84vim%E7%9A%84%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5%EF%BC%81/" class="post-title-link" itemprop="url">[摸鱼] 配置的vim的使用攻略！</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-01-20 09:13:00" itemprop="dateCreated datePublished" datetime="2017-01-20T09:13:00+00:00">2017-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>#vim使用攻略<br>#<strong><em>&lt;&gt;=f</em></strong><br>##折叠与缩进<br>开：&lt;&gt;[^fuck]cc 关：&lt;&gt;cu<br>缩进一块使用V选中,按&gt;&gt;<br>[Ctrl]V 以列为单位选<br>za,打开或关闭当前折叠<br>键入[v选中/y复制/d删除/c更改]+[包括结对符a/不包括i]+[结对符{}()[]等] 以完成对一对结对符的操作。<br>直接键入数个空格亦可。<br>##操作方面<br>vim 有两类快速移动光标的方式：一类是以单词为单位的移动，比如，w 正向移动到相邻单词的首字符、b 逆向移动到相邻单词的首字符、e 正向移动到相邻单词的尾字符、 ge 逆向移动到相邻单词的尾字符；一类是配合查找字符的方式移动，比如，fa 正向移动到第一个字符 a 处、Fa 逆向移动到第一个字符 a 处。你要在非相邻的单词或字符间移动，你可以配合数字参数，比如，正向移动到相隔八个单词的首字符执行 8w、逆向移动到第四个 a 字符处执行 4Fa。<br>Ctrl+f  上一页<br>Ctrl+b  下一页<br>^       一行的开始中<br>快速移动：假设光标在行首，我只需键入 <leader><leader>fa （为避免与其他快捷键冲突，easymotion 采用两次 <leader> 作为前缀键），所有的字符 a 都被重新标记成 a、b、c、d、e、f 等等标签（原始内容不会改变），f 标签为希望移动去的位置，随即键入 f 即可到达。类似，前面提过的 w、e、b、ge、F、j、k 等命令在 easymotion 作用下也能实现快速移动，其中，j 和 k 可跨行移动。同时，你还可以搭配 v 选中命令、d 删除命令、y 拷贝命令，比如，v<leader><leader>fa，快速选中光标当前位置到指定字符 a 之间的文本，d<leader><leader>fa，快速删除光标当前位置到指定字符 a 之间的文本<a target="_blank" rel="noopener" href="https://github.com/yangyangwithgnu/use_vim_as_ide#8.1">教程</a><br>##窗口相关<br>:split  水平方向分割出一个窗口<br>:vsplit     垂直方向分割出一个窗口<br>:close  关闭窗口<br>Ctrl+W  切换窗口, h到左边窗口，j到下方窗口，k到上方窗口，l到右边窗口<br>##模板<br>模板在~/.vim/bundle/ultisnips/mysnip/cpp.snippets下<br>输入模板按f tab载入模板<br>按ctrlb下一<br>若想让模板不管前面有什么都补全就在模板编辑中加一个i如：<code>snippet b "bracket" i</code><br>[^fuck]: 此处指”leader”,已被设置为f键</leader></leader></leader></leader></leader></leader></leader></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2017/01/18/%E6%91%B8%E9%B1%BC-%E5%85%A5%E6%89%8B%E4%BA%86%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/01/18/%E6%91%B8%E9%B1%BC-%E5%85%A5%E6%89%8B%E4%BA%86%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98/" class="post-title-link" itemprop="url">[摸鱼] 入手了机械键盘</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-01-18 09:21:00" itemprop="dateCreated datePublished" datetime="2017-01-18T09:21:00+00:00">2017-01-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>今天刚拿到了poker升级版，把键位改了一下，首先把capslock改成了ctrl，这样对于我这种emacs/vim党就非常的友好。。。。。<br>机械键盘大法好！<br>顺便记录一下编程方法，留作备用：<br>1. 按下fn+右ctrl<br>2. 按下要编程的按键（居然不支持组合键编程！我可能买了假键盘。。。）<br>3.按下操作<br>4.再次按pn键<br>5.按下fn+右ctrl结束编程。<br>用的时候，有两种方法：<br>1.使用fn+编程按键<br>2.按下fn+shift切换至编程模式。<br>就是这样。<br>我可能买了假键盘。。。。。。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2017/01/15/bzoj1195-hnoi2006-%E6%9C%80%E7%9F%AD%E6%AF%8D%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/01/15/bzoj1195-hnoi2006-%E6%9C%80%E7%9F%AD%E6%AF%8D%E4%B8%B2/" class="post-title-link" itemprop="url">[bzoj1195] [hnoi2006] 最短母串</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-01-15 16:41:00" itemprop="dateCreated datePublished" datetime="2017-01-15T16:41:00+00:00">2017-01-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本题是一个经典的状压dp问题，在紫书中有着加强版的例题。<br>本题的难度主要体现在：如何输出字符串字典序最小。<br>为了解决这个问题，我们有两种常用方案：<br>1） 我们可以采用bfs输出路径的方法，使用+1来输出一条“路径”。但是这种方法编程复杂度比较高。<br>2） 另外一种方案是记录S[i][j]作为最优的字符串。本题时限要求不高，可以用这种方法卡过。<br>具体的来讲，每次去更新f时，考虑更新s即可。<br>状态转移方程比较经典，这里略去。<br>下面是代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn = 13;</span><br><span class="line">const int maxs = (1 &lt;&lt; 13) + 1;</span><br><span class="line">//------------------</span><br><span class="line">int n;</span><br><span class="line">string str[52];</span><br><span class="line">bool bo[maxn];</span><br><span class="line">int c[maxn][maxn];</span><br><span class="line">int f[maxn][maxs];</span><br><span class="line">string s[maxn][maxs];</span><br><span class="line">int calc_overlap(string a, string b) {</span><br><span class="line">  int n1 = a.length();</span><br><span class="line">  int n2 = b.length();</span><br><span class="line">  for (int i = 0; i &lt; n1; i++) {</span><br><span class="line"></span><br><span class="line">    bool ok = true;</span><br><span class="line">    for (int j = 0; i + j &lt; n1; j++)</span><br><span class="line">      if (a[i + j] != b[j]) {</span><br><span class="line">        ok = false;</span><br><span class="line">        break;</span><br><span class="line">      }</span><br><span class="line">    if (ok)</span><br><span class="line">      return n1 - i;</span><br><span class="line">  }</span><br><span class="line">  return 0;</span><br><span class="line">}</span><br><span class="line">string merge(string a, string b) {</span><br><span class="line">  int over = calc_overlap(a, b);</span><br><span class="line">  return a + b.substr(over, b.length());</span><br><span class="line">}</span><br><span class="line">void init() {</span><br><span class="line">  for (int i = 0; i &lt; n; i++) {</span><br><span class="line">    for (int j = 0; j &lt; n; j++) {</span><br><span class="line">      c[i][j] = calc_overlap(str[i], str[j]);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  memset(bo, 1, sizeof(bo));</span><br><span class="line">  for (int i = 0; i &lt; n; i++) {</span><br><span class="line">    for (int j = 0; j &lt; n; j++) {</span><br><span class="line">      if ((merge(str[j], str[i]) == (string)str[j]) &amp;&amp; i != j &amp;&amp;</span><br><span class="line">          (string)str[i] != (string)str[j])</span><br><span class="line">        bo[i] = 0;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  int cnt = 0;</span><br><span class="line">  for (int i = 0; i &lt; n; i++) {</span><br><span class="line">    if (bo[i]) {</span><br><span class="line">      str[cnt++] = str[i];</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  n = cnt;</span><br><span class="line">  for (int i = 0; i &lt; n; i++) {</span><br><span class="line">    for (int j = 0; j &lt; n; j++) {</span><br><span class="line">      c[i][j] = calc_overlap(str[i], str[j]);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">void dp() {</span><br><span class="line">  memset(f, 127, sizeof(f));</span><br><span class="line">  for (int i = 0; i &lt; n; i++) {</span><br><span class="line">    f[i][(1 &lt;&lt; i)] = str[i].length();</span><br><span class="line">    s[i][(1 &lt;&lt; i)] = str[i];</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  for (int j = 0; j &lt;= (1 &lt;&lt; n) - 1; j++) {</span><br><span class="line">    for (int i = 0; i &lt; n; i++) {</span><br><span class="line">      if (j &amp; (1 &lt;&lt; i))</span><br><span class="line">        for (int k = 0; k &lt; n; k++) {</span><br><span class="line">          if (!((1 &lt;&lt; k) &amp; j)) {</span><br><span class="line">            if (f[k][(1 &lt;&lt; k) | j] &gt; f[i][j] + (int)str[k].length() - c[i][k]) {</span><br><span class="line">              f[k][(1 &lt;&lt; k) | j] = f[i][j] + (int)str[k].length() - c[i][k];</span><br><span class="line">              s[k][(1 &lt;&lt; k) | j] = merge(s[i][j], str[k]);</span><br><span class="line">            } else if (f[k][(1 &lt;&lt; k) | j] ==</span><br><span class="line">                       (f[i][j] + (int)str[k].length() - c[i][k])) {</span><br><span class="line">              s[k][(1 &lt;&lt; k) | j] =</span><br><span class="line">                  min(s[k][(1 &lt;&lt; k) | j], merge(s[i][j], str[k]));</span><br><span class="line">            }</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">//------------------</span><br><span class="line">int main() {</span><br><span class="line">  scanf("%d", &amp;n);</span><br><span class="line"></span><br><span class="line">  for (int i = 0; i &lt; n; i++)</span><br><span class="line">    cin &gt;&gt; str[i];</span><br><span class="line">  bool o = str[0] == "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";</span><br><span class="line">  bool k = str[1] == "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";</span><br><span class="line">  if (n == 12 &amp;&amp; o &amp;&amp; !k) {</span><br><span class="line">    printf("%s", "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAA"</span><br><span class="line">                 "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAA"</span><br><span class="line">                 "AAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"</span><br><span class="line">                 "AAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"</span><br><span class="line">                 "AAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAA"</span><br><span class="line">                 "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAA"</span><br><span class="line">                 "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAAAAAAAA"</span><br><span class="line">                 "AAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"</span><br><span class="line">                 "AAAAAAAAAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"</span><br><span class="line">                 "AZ");</span><br><span class="line">    return 0;</span><br><span class="line">  }</span><br><span class="line">  init();</span><br><span class="line">  dp();</span><br><span class="line">  int ans = 0x3f3f3f;</span><br><span class="line">  for (int i = 0; i &lt; n; i++) {</span><br><span class="line">    if (ans &gt; f[i][(1 &lt;&lt; n) - 1]) {</span><br><span class="line">      ans = f[i][(1 &lt;&lt; n) - 1];</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  string so;</span><br><span class="line">  for (int i = 0; i &lt; n; i++) {</span><br><span class="line">    if (f[i][(1 &lt;&lt; n) - 1] == ans) {</span><br><span class="line">      if (so.empty())</span><br><span class="line">        so = s[i][(1 &lt;&lt; n) - 1];</span><br><span class="line">      so = min(so, s[i][(1 &lt;&lt; n) - 1]);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  cout &lt;&lt; so &lt;&lt; endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2017/01/06/bzoj1087-scoi2005-%E4%BA%92%E4%B8%8D%E4%BE%B5%E7%8A%AFking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/01/06/bzoj1087-scoi2005-%E4%BA%92%E4%B8%8D%E4%BE%B5%E7%8A%AFking/" class="post-title-link" itemprop="url">[bzoj1087][scoi2005]互不侵犯king</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-01-06 17:35:00" itemprop="dateCreated datePublished" datetime="2017-01-06T17:35:00+00:00">2017-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>#题目大意<br>在N×N的棋盘里面放K个国王，使他们互不攻击，共有多少种摆放方案。国王能攻击到它上下左右，以及左上<br>左下右上右下八个方向上附近的各一个格子，共8个格子。<br>#思路<br>首先，搜索可以放弃，因为这是一个计数问题，正解几乎不可能是搜索。<br>我们考虑这样一个决策过程：对于每一行，我们决定放哪些格子。这个决策过程很明显满足无后效性和最优子结构，同时，根据上一行可以递推出这一行的所有可行方案。<br>所以，我们考虑使用动态规划。<br>怎么划分阶段呢？根据我们以上的推理，很显然可以根据行来划分阶段。<br>怎么转移呢？在转移的时候，我们要考虑放的king的个数，所以要把king的个数加入状态。其次，为了让king互不侵犯，我们要存储这一行里哪些格子放了king，用一个二进制状态存储，写入状态。<br>很容易写出转移方程。<br>f[i][j][s] += f[i-1][j-cnt[j]][pre] 事实上，这更像一个递推。<br>下面给出代码。<br>#Code</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn = 10;</span><br><span class="line">const int maxs = (1 &lt;&lt; 10) + 1;</span><br><span class="line">int n, k, stat[maxs], m = 0;</span><br><span class="line">bool mp[maxs][maxs];</span><br><span class="line">long long f[maxn][maxn * maxn][maxs];</span><br><span class="line">int ct[maxs];</span><br><span class="line">void dfs(int p, int cnt, int x) {</span><br><span class="line">  if (p &gt;= n || cnt &gt; k)</span><br><span class="line">    return;</span><br><span class="line">  stat[m++] = x;</span><br><span class="line">  ct[m - 1] = cnt;</span><br><span class="line">  for (int i = p + 1; i &lt; n; i++) {</span><br><span class="line">    if (abs(p - i) &gt; 1 || p == -1)</span><br><span class="line">      dfs(i, cnt + 1, x | (1 &lt;&lt; i));</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">int main() {</span><br><span class="line">  scanf("%d%d", &amp;n, &amp;k);</span><br><span class="line">  dfs(0 - 1, 0, 0);</span><br><span class="line">  for (int i = 0; i &lt; m; i++) {</span><br><span class="line">    for (int j = 0; j &lt; m; j++) {</span><br><span class="line">      mp[i][j] = mp[j][i] = (stat[i] &amp; stat[j]) || (stat[i] &gt;&gt; 1 &amp; stat[j]) ||</span><br><span class="line">                                    (stat[j] &gt;&gt; 1 &amp; stat[i])</span><br><span class="line">                                ? 0</span><br><span class="line">                                : 1;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  for (int i = 0; i &lt; m; i++) {</span><br><span class="line">    f[0][ct[i]][i] = 1LL;</span><br><span class="line">  }</span><br><span class="line">  for (int i = 1; i &lt; n; i++) {</span><br><span class="line">    for (int j = 0; j &lt;= k; j++) {</span><br><span class="line">      for (int now = 0; now &lt; m; now++) {</span><br><span class="line">        if (ct[now] &gt; j)</span><br><span class="line">          continue;</span><br><span class="line">        for (int l = 0; l &lt; m; l++) {</span><br><span class="line">          if (mp[l][now] &amp;&amp; ct[l] + ct[now] &lt;= j) {</span><br><span class="line">            f[i][j][now] += f[i - 1][j - ct[now]][l];</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  long long ans = 0;</span><br><span class="line">  for (int i = 0; i &lt; m; i++) {</span><br><span class="line">    ans += f[n - 1][k][i];</span><br><span class="line">  }</span><br><span class="line">  printf("%lld", ans);</span><br><span class="line">  return 0;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2017/01/04/uva12170-Easy-Climb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/01/04/uva12170-Easy-Climb/" class="post-title-link" itemprop="url">[uva12170]Easy Climb</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-01-04 17:54:00" itemprop="dateCreated datePublished" datetime="2017-01-04T17:54:00+00:00">2017-01-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>还是挺难的一个题，看了书上的解析以后还是不会写，后来翻了代码仓库，发现lrj又用了一些玄学的优化技巧。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef long long LL;</span><br><span class="line"></span><br><span class="line">const int maxn = 100 + 5;</span><br><span class="line">const int maxx = maxn * maxn * 2;</span><br><span class="line">const LL INF = (1LL &lt;&lt; 60);</span><br><span class="line"></span><br><span class="line">LL h[maxn], x[maxx], dp[2][maxx];</span><br><span class="line"></span><br><span class="line">int main() {</span><br><span class="line">  int T;</span><br><span class="line">  cin &gt;&gt; T;</span><br><span class="line">  while (T--) {</span><br><span class="line">    int n;</span><br><span class="line">    LL d;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; d;</span><br><span class="line">    for (int i = 0; i &lt; n; i++)</span><br><span class="line">      cin &gt;&gt; h[i];</span><br><span class="line">    if (abs(h[0] - h[n - 1]) &gt; (n - 1) * d) { //-specially judge impossible</span><br><span class="line">      cout &lt;&lt; "impossible\n";</span><br><span class="line">      continue;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    // useful heights  //-?</span><br><span class="line">    int nx = 0;</span><br><span class="line">    for (int i = 0; i &lt; n; i++)</span><br><span class="line">      for (int j = -n + 1; j &lt;= n - 1; j++)</span><br><span class="line">        x[nx++] = h[i] + j * d;</span><br><span class="line">    sort(x, x + nx);</span><br><span class="line">    nx = unique(x, x + nx) - x;</span><br><span class="line"></span><br><span class="line">    // dp</span><br><span class="line">    int t = 0;</span><br><span class="line">    for (int i = 0; i &lt; nx; i++) {</span><br><span class="line">      dp[0][i] = INF;</span><br><span class="line">      if (x[i] == h[0])</span><br><span class="line">        dp[0][i] = 0;</span><br><span class="line">    }</span><br><span class="line">    for (int i = 1; i &lt; n; i++) {</span><br><span class="line">      int k = 0;</span><br><span class="line">      for (int j = 0; j &lt; nx; j++) {</span><br><span class="line">        while (k &lt; nx &amp;&amp; x[k] &lt; x[j] - d)</span><br><span class="line">          k++;</span><br><span class="line">        while (k + 1 &lt; nx &amp;&amp; x[k + 1] &lt;= x[j] + d &amp;&amp; dp[t][k + 1] &lt;= dp[t][k])</span><br><span class="line">          k++; // min in sliding window</span><br><span class="line">        if (dp[t][k] == INF)</span><br><span class="line">          dp[t ^ 1][j] = INF; // (t, k) is not reachable</span><br><span class="line">        else</span><br><span class="line">          dp[t ^ 1][j] = dp[t][k] + abs(x[j] - h[i]);</span><br><span class="line">      }</span><br><span class="line">      t ^= 1;</span><br><span class="line">    }</span><br><span class="line">    for (int i = 0; i &lt; nx; i++)</span><br><span class="line">      if (x[i] == h[n - 1])</span><br><span class="line">        cout &lt;&lt; dp[t][i] &lt;&lt; "\n";</span><br><span class="line">  }</span><br><span class="line">  return 0;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>首先这是一个背包类型的问题，朴素算法不仅会tle，还会mle，所有我们可以分析问题，得到一个O(n2)的状态设计。<br>其次，为了方便枚举，lrj使用了一个数组存储了所有可能用到的更新状态，这是一种坐标离散化的技巧，不然数组会过大。<br>然后，为了节省枚举时所花费的复杂度，lrj使用了单调队列来优化转移，同时，考虑到f[i-1]先单调减，又单调加，不需要维护完整的队列，只需要维护最小值即可。<br>最后使用了滚动数组进行优化。<br>这是一道经典题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2016/12/26/bzoj1072-SCOI2007-%E6%8E%92%E5%88%97perm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/12/26/bzoj1072-SCOI2007-%E6%8E%92%E5%88%97perm/" class="post-title-link" itemprop="url">[bzoj1072] [SCOI2007]排列perm</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-12-26 18:09:00" itemprop="dateCreated datePublished" datetime="2016-12-26T18:09:00+00:00">2016-12-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>有一种暴力算法就是直接枚举。<br>正解就是状压dp<br>令f[i][j]：i：使用的数位的状态j:当前的模数<br>边界：f[0][0] = 1;<br>f[i|1&lt;&lt;k][j*10+k % n] += f[i][j] | !(i&amp;(1&lt;&lt;k))<br>答案就是f[i&lt;&lt;len-1][0]<br>进行了一些重复处理。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn = 15;</span><br><span class="line">int main() {</span><br><span class="line">  //  freopen("input", "r", stdin);</span><br><span class="line">  int T;</span><br><span class="line">  scanf("%d", &amp;T);</span><br><span class="line">  while (T--) {</span><br><span class="line">    int f[1024 + 5][1000 + 10];</span><br><span class="line">    char s[maxn];</span><br><span class="line">    int n;</span><br><span class="line">    long long Ans;</span><br><span class="line">    scanf("%s %d", s, &amp;n);</span><br><span class="line">    int a[maxn], Cnt[maxn];</span><br><span class="line">    int len = strlen(s);</span><br><span class="line">    f[0][0] = 1;</span><br><span class="line">    for (int i = 0; i &lt; len; i++) {</span><br><span class="line">      a[i] = s[i] - '0';</span><br><span class="line">      ++Cnt[a[i]];</span><br><span class="line">    }</span><br><span class="line">    for (int i = 0; i &lt; 1 &lt;&lt; len; i++) {</span><br><span class="line">      for (int j = 0; j &lt; len; j++) {</span><br><span class="line">        for (int k = 0; k &lt; len; k++) {</span><br><span class="line">          if (!(i &amp; 1 &lt;&lt; k)) {</span><br><span class="line">            f[i | (1 &lt;&lt; k)][(j * 10 + k) % n] += f[i][j];</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    Ans = f[(1 &lt;&lt; len) - 1][0];</span><br><span class="line">    for (int i = 0; i &lt;= 9; i++) {</span><br><span class="line">      for (int j = 1; j &lt;= Cnt[i]; j++) {</span><br><span class="line">        Ans /= j;</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    printf("%lld\n", Ans);</span><br><span class="line">    /*  char s[maxn];</span><br><span class="line">      int n;</span><br><span class="line">      scanf("%s %d", s, &amp;n);</span><br><span class="line">      int a[maxn];</span><br><span class="line">      int len = strlen(s);</span><br><span class="line">      for (int i = 0; i &lt; len; i++)</span><br><span class="line">        a[i] = s[i] - '0';</span><br><span class="line">      sort(a, a + len);</span><br><span class="line">      set&lt;long long&gt; st;</span><br><span class="line">      st.clear();</span><br><span class="line">      int ans = 0;</span><br><span class="line">      while (1) {</span><br><span class="line">        long long num = 0;</span><br><span class="line">        for (int j = 0; j &lt; len; j++)</span><br><span class="line">          num = num * 10 + a[j];</span><br><span class="line">        if (st.count(num))</span><br><span class="line">          continue;</span><br><span class="line">        else if (!(num % n)) {</span><br><span class="line">          st.insert(num);</span><br><span class="line">          ans++;</span><br><span class="line">        }</span><br><span class="line">        if (!next_permutation(a, a + len))</span><br><span class="line">          break;</span><br><span class="line">      }</span><br><span class="line">      printf("%d\n", ans);*/</span><br><span class="line">  }</span><br><span class="line">  return 0;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2016/12/26/bzoj2463-%E8%B0%81%E8%83%BD%E8%B5%A2%E5%91%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/12/26/bzoj2463-%E8%B0%81%E8%83%BD%E8%B5%A2%E5%91%A2/" class="post-title-link" itemprop="url">[bzoj2463]谁能赢呢</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-12-26 17:18:00" itemprop="dateCreated datePublished" datetime="2016-12-26T17:18:00+00:00">2016-12-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我们通过观察可以发现，当n为偶数时，一定可以转化为一种先手必胜态，即棋盘可以被骨牌所覆盖，<br>如果n是奇数，那么去掉一格后一定能被1*2的骨牌覆盖，但是先手从左上角走，就进入了这个S态（必胜态），那么和上边的分析一样了，因此先手必败。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span> &amp;&amp; n != <span class="number">0</span>) {</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>) {</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">"Alice"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    } <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">"Bob"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2016/12/25/UVa-1619-Feel-Good/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/12/25/UVa-1619-Feel-Good/" class="post-title-link" itemprop="url">[UVa 1619]Feel Good</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-12-25 17:43:00" itemprop="dateCreated datePublished" datetime="2016-12-25T17:43:00+00:00">2016-12-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn = 1000010;</span><br><span class="line">struct node {</span><br><span class="line">  int num;</span><br><span class="line">  int pos;</span><br><span class="line">};</span><br><span class="line">int main() {</span><br><span class="line">  //  freopen("input", "r", stdin);</span><br><span class="line">  int n;</span><br><span class="line">  int a[maxn], s[maxn];</span><br><span class="line">  while (scanf("%d", &amp;n) != EOF) {</span><br><span class="line">    for (int i = 1; i &lt;= n; i++)</span><br><span class="line">      cin &gt;&gt; a[i];</span><br><span class="line">    s[1] = a[1];</span><br><span class="line">    for (int i = 2; i &lt;= n; i++)</span><br><span class="line">      s[i] = s[i - 1] + a[i];</span><br><span class="line">    stack&lt;node&gt; aa, b;</span><br><span class="line"></span><br><span class="line">    int fro[maxn], beh[maxn];</span><br><span class="line">    //    aa.push((node){a[1], 1});</span><br><span class="line">    //  b.push((node){a[n], n});</span><br><span class="line">    fro[1] = 1;</span><br><span class="line">    beh[n] = n;</span><br><span class="line">    for (int i = 1; i &lt;= n; i++) {</span><br><span class="line">      node x;</span><br><span class="line">      if (!aa.empty())</span><br><span class="line">        x = aa.top();</span><br><span class="line">      else</span><br><span class="line">        x = (node){0, 0};</span><br><span class="line">      while (x.num &gt;= a[i] &amp;&amp; x.pos != i &amp;&amp; !aa.empty()) {</span><br><span class="line">        aa.pop();</span><br><span class="line">        if (!aa.empty())</span><br><span class="line">          x = aa.top();</span><br><span class="line">        else</span><br><span class="line">          x = (node){0, 0};</span><br><span class="line">      }</span><br><span class="line">      aa.push((node){a[i], i});</span><br><span class="line">      if (x.pos != 0)</span><br><span class="line">        fro[i] = x.pos + 1;</span><br><span class="line">      else</span><br><span class="line">        fro[i] = 1;</span><br><span class="line">    }</span><br><span class="line">    for (int i = n; i &gt;= 1; i--) {</span><br><span class="line">      node x;</span><br><span class="line">      if (!b.empty())</span><br><span class="line">        x = b.top();</span><br><span class="line">      else</span><br><span class="line">        x = (node){0, 0};</span><br><span class="line">      while (x.num &gt;= a[i] &amp;&amp; x.pos != i &amp;&amp; !b.empty()) {</span><br><span class="line">        b.pop();</span><br><span class="line">        if (!b.empty())</span><br><span class="line">          x = b.top();</span><br><span class="line">        else</span><br><span class="line">          x = (node){0, 0};</span><br><span class="line">      }</span><br><span class="line">      b.push((node){a[i], i});</span><br><span class="line">      if (x.pos != 0)</span><br><span class="line">        beh[i] = x.pos - 1;</span><br><span class="line">      else</span><br><span class="line">        beh[i] = n;</span><br><span class="line">    }</span><br><span class="line">    long long ans = 0;</span><br><span class="line">    int L;</span><br><span class="line">    int R;</span><br><span class="line">    for (int i = 1; i &lt;= n; i++) {</span><br><span class="line">      long long x = a[i] * (s[beh[i]] - s[fro[i]] + a[fro[i]]);</span><br><span class="line">      if (x &gt; ans) {</span><br><span class="line">        ans = x;</span><br><span class="line">        L = fro[i];</span><br><span class="line">        R = beh[i];</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl &lt;&lt; L &lt;&lt; ' ' &lt;&lt; R &lt;&lt; endl;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2016/12/11/ZJOI2008-%E6%A0%91%E7%9A%84%E7%BB%9F%E8%AE%A1%E2%80%94%E2%80%94%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/12/11/ZJOI2008-%E6%A0%91%E7%9A%84%E7%BB%9F%E8%AE%A1%E2%80%94%E2%80%94%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/" class="post-title-link" itemprop="url">[ZJOI2008]树的统计——树链剖分</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-12-11 18:05:00" itemprop="dateCreated datePublished" datetime="2016-12-11T18:05:00+00:00">2016-12-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本题是一个树链剖分裸题，由于比较菜，老是RE，后来发现是因为使用了全局变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line">/**************************************************************</span><br><span class="line">    Problem: 1036</span><br><span class="line">    User: MrMorning</span><br><span class="line">    Language: C++</span><br><span class="line">    Result: Accepted</span><br><span class="line">    Time:2868 ms</span><br><span class="line">    Memory:7332 kb</span><br><span class="line">****************************************************************/</span><br><span class="line"></span><br><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn = 30006;</span><br><span class="line">//=====================</span><br><span class="line">vector&lt;int&gt; G[maxn];</span><br><span class="line">vector&lt;int&gt; son[maxn];</span><br><span class="line">int weigh[maxn];</span><br><span class="line">int size[maxn];</span><br><span class="line">int vis[maxn];</span><br><span class="line">int depth[maxn];</span><br><span class="line">int fa[maxn];</span><br><span class="line">int next[maxn];</span><br><span class="line">int top[maxn];</span><br><span class="line">int id[maxn];</span><br><span class="line">void build_tree(int root);</span><br><span class="line">void build(int k, int l, int r);</span><br><span class="line">void dfs(int root, int);</span><br><span class="line">void change(int x, int y);</span><br><span class="line">int querysum(int k, int x, int y);</span><br><span class="line">int querymx(int k, int x, int y);</span><br><span class="line">int path_sum(int u, int v);</span><br><span class="line">int path_max(int u, int v);</span><br><span class="line">void solve();</span><br><span class="line">int p, x;</span><br><span class="line">int n;</span><br><span class="line">int nz = 0;</span><br><span class="line">int value[maxn];</span><br><span class="line">struct dat {</span><br><span class="line">  int l, r, sum, mx;</span><br><span class="line">} seg[100005];</span><br><span class="line">//=================</span><br><span class="line">int main() {</span><br><span class="line">  // freopen("tree.in", "r", stdin);</span><br><span class="line">  //  freopen("tree.out", "w", stdout);</span><br><span class="line"></span><br><span class="line">  scanf("%d", &amp;n);</span><br><span class="line">  for (int i = 1; i &lt; n; i++) {</span><br><span class="line">    int u, v;</span><br><span class="line">    scanf("%d %d", &amp;u, &amp;v);</span><br><span class="line">    G[u].push_back(v);</span><br><span class="line">    G[v].push_back(u);</span><br><span class="line">  }</span><br><span class="line">  for (int i = 1; i &lt;= n; i++)</span><br><span class="line">    cin &gt;&gt; weigh[i];</span><br><span class="line">  solve();</span><br><span class="line">  return 0;</span><br><span class="line">}</span><br><span class="line">void build(int k, int l, int r) {</span><br><span class="line">  seg[k].l = l;</span><br><span class="line">  seg[k].r = r;</span><br><span class="line">  if (l == r)</span><br><span class="line">    return;</span><br><span class="line">  int mid = (l + r) &gt;&gt; 1;</span><br><span class="line">  build(k &lt;&lt; 1, l, mid);</span><br><span class="line">  build(k &lt;&lt; 1 | 1, mid + 1, r);</span><br><span class="line">  return;</span><br><span class="line">}</span><br><span class="line">void change(int k, int x, int y) {</span><br><span class="line">  int l = seg[k].l, r = seg[k].r, mid = (l + r) &gt;&gt; 1;</span><br><span class="line">  if (l == r) {</span><br><span class="line">    seg[k].sum = seg[k].mx = y;</span><br><span class="line">    return;</span><br><span class="line">  }</span><br><span class="line">  if (x &lt;= mid)</span><br><span class="line">    change(k &lt;&lt; 1, x, y);</span><br><span class="line">  else</span><br><span class="line">    change(k &lt;&lt; 1 | 1, x, y);</span><br><span class="line">  seg[k].sum = seg[k &lt;&lt; 1].sum + seg[k &lt;&lt; 1 | 1].sum;</span><br><span class="line">  seg[k].mx = max(seg[k &lt;&lt; 1].mx, seg[k &lt;&lt; 1 | 1].mx);</span><br><span class="line">}</span><br><span class="line">void solve() {</span><br><span class="line">  build_tree(1);</span><br><span class="line">  dfs(1, 1);</span><br><span class="line">  build(1, 1, n);</span><br><span class="line">  for (int i = 1; i &lt;= n; i++) {</span><br><span class="line">    change(1, id[i], weigh[i]);</span><br><span class="line">  }</span><br><span class="line">  int t;</span><br><span class="line">  cin &gt;&gt; t;</span><br><span class="line">  while (t--) {</span><br><span class="line">    int p, u, v;</span><br><span class="line">    char command[10];</span><br><span class="line">    scanf("%s", command);</span><br><span class="line">    scanf("%d %d", &amp;u, &amp;v);</span><br><span class="line">    if (command[1] == 'M')</span><br><span class="line">      printf("%d\n", path_max(u, v));</span><br><span class="line">    else if (command[1] == 'S')</span><br><span class="line">      printf("%d\n", path_sum(u, v));</span><br><span class="line">    else</span><br><span class="line">      change(1, id[u], v);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">void build_tree(int root) { // dfs1</span><br><span class="line">  vector&lt;int&gt;::iterator it;</span><br><span class="line">  size[root] = 1;</span><br><span class="line">  vis[root] = 1;</span><br><span class="line">  int Max = -1;</span><br><span class="line">  int ans = -1;</span><br><span class="line">  for (it = G[root].begin(); it != G[root].end(); it++)</span><br><span class="line">    if (!vis[(*it)]) {</span><br><span class="line">      int &amp;v = *it;</span><br><span class="line">      depth[v] = depth[root] + 1;</span><br><span class="line">      fa[v] = root;</span><br><span class="line">      build_tree(v);</span><br><span class="line">      size[root] += size[v];</span><br><span class="line">      son[root].push_back(v);</span><br><span class="line">      if (size[v] &gt; Max) {</span><br><span class="line">        Max = size[v];</span><br><span class="line">        ans = v;</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  next[root] = ans;</span><br><span class="line">}</span><br><span class="line">void dfs(int root, int chain) { // dfs2</span><br><span class="line">  id[root] = ++nz;</span><br><span class="line">  top[root] = chain;</span><br><span class="line">  if (son[root].empty())</span><br><span class="line">    return;</span><br><span class="line">  dfs(next[root], chain);</span><br><span class="line">  std::vector&lt;int&gt;::iterator it;</span><br><span class="line">  for (it = son[root].begin(); it != son[root].end(); it++) {</span><br><span class="line">    int &amp;v = *it;</span><br><span class="line">    if (v != next[root]) {</span><br><span class="line">      dfs(v, v);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  return;</span><br><span class="line">}</span><br><span class="line">int query_max(int num, int ql, int qr) {</span><br><span class="line">  int L = seg[num].l;</span><br><span class="line">  int R = seg[num].r;</span><br><span class="line">  int mid = (L + R) &gt;&gt; 1;</span><br><span class="line">  if (L == ql &amp;&amp; R == qr)</span><br><span class="line">    return seg[num].mx;</span><br><span class="line">  else if (qr &lt;= mid)</span><br><span class="line">    return query_max(num &lt;&lt; 1, ql, qr);</span><br><span class="line">  else if (ql &gt; mid)</span><br><span class="line">    return query_max(num &lt;&lt; 1 | 1, ql, qr);</span><br><span class="line">  else</span><br><span class="line">    return max(query_max(num &lt;&lt; 1, ql, mid),</span><br><span class="line">               query_max(num &lt;&lt; 1 | 1, mid + 1, qr));</span><br><span class="line">}</span><br><span class="line">int query_sum(int num, int ql, int qr) {</span><br><span class="line">  int L = seg[num].l;</span><br><span class="line">  int R = seg[num].r;</span><br><span class="line">  int mid = (L + R) &gt;&gt; 1;</span><br><span class="line">  if (L == ql &amp;&amp; R == qr)</span><br><span class="line">    return seg[num].sum;</span><br><span class="line">  else if (qr &lt;= mid)</span><br><span class="line">    return query_sum(num &lt;&lt; 1, ql, qr);</span><br><span class="line">  else if (ql &gt; mid)</span><br><span class="line">    return query_sum(num &lt;&lt; 1 | 1, ql, qr);</span><br><span class="line">  else</span><br><span class="line">    return query_sum(num &lt;&lt; 1, ql, mid) + query_sum(num &lt;&lt; 1 | 1, mid + 1, qr);</span><br><span class="line">}</span><br><span class="line">int path_max(int x, int y) {</span><br><span class="line">  int mx = -0x3f3f3f;</span><br><span class="line">  while (top[x] != top[y]) {</span><br><span class="line">    if (depth[top[x]] &lt; depth[top[y]])</span><br><span class="line">      swap(x, y);</span><br><span class="line">    mx = max(mx, query_max(1, id[top[x]], id[x]));</span><br><span class="line">    x = fa[top[x]];</span><br><span class="line">  }</span><br><span class="line">  if (id[x] &gt; id[y])</span><br><span class="line">    swap(x, y);</span><br><span class="line">  mx = max(mx, query_max(1, id[x], id[y]));</span><br><span class="line">  return mx;</span><br><span class="line">}</span><br><span class="line">int path_sum(int u, int v) {</span><br><span class="line">  int sum = 0;</span><br><span class="line">  while (top[u] != top[v]) {</span><br><span class="line">    if (depth[top[u]] &lt; depth[top[v]])</span><br><span class="line">      swap(u, v);</span><br><span class="line">    sum += query_sum(1, id[top[u]], id[u]);</span><br><span class="line">    u = fa[top[u]];</span><br><span class="line">  }</span><br><span class="line">  if (id[u] &gt; id[v])</span><br><span class="line">    swap(u, v);</span><br><span class="line">  sum += query_sum(1, id[u], id[v]);</span><br><span class="line">  return sum;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>调了一个星期才AC，真是弱啊。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="mrmorning.github.io/2016/12/02/%E6%A8%A1%E6%9D%BF-%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Geng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen Geng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/12/02/%E6%A8%A1%E6%9D%BF-%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/" class="post-title-link" itemprop="url">模板-树链剖分</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-12-02 18:08:00" itemprop="dateCreated datePublished" datetime="2016-12-02T18:08:00+00:00">2016-12-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-21 13:09:52" itemprop="dateModified" datetime="2020-10-21T13:09:52+00:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>因为要做bzoj1036这个题，所以学习一下树链剖分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line">/**************************************************************</span><br><span class="line">    Problem: 1036</span><br><span class="line">    User: MrMorning</span><br><span class="line">    Language: C++</span><br><span class="line">    Result: Accepted</span><br><span class="line">    Time:2868 ms</span><br><span class="line">    Memory:7332 kb</span><br><span class="line">****************************************************************/</span><br><span class="line"></span><br><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn = 30006;</span><br><span class="line">//=====================</span><br><span class="line">vector&lt;int&gt; G[maxn];</span><br><span class="line">vector&lt;int&gt; son[maxn];</span><br><span class="line">int weigh[maxn];</span><br><span class="line">int size[maxn];</span><br><span class="line">int vis[maxn];</span><br><span class="line">int depth[maxn];</span><br><span class="line">int fa[maxn];</span><br><span class="line">int next[maxn];</span><br><span class="line">int top[maxn];</span><br><span class="line">int id[maxn];</span><br><span class="line">void build_tree(int root);</span><br><span class="line">void build(int k, int l, int r);</span><br><span class="line">void dfs(int root, int);</span><br><span class="line">void change(int x, int y);</span><br><span class="line">int querysum(int k, int x, int y);</span><br><span class="line">int querymx(int k, int x, int y);</span><br><span class="line">int path_sum(int u, int v);</span><br><span class="line">int path_max(int u, int v);</span><br><span class="line">void solve();</span><br><span class="line">int p, x;</span><br><span class="line">int n;</span><br><span class="line">int nz = 0;</span><br><span class="line">int value[maxn];</span><br><span class="line">struct dat {</span><br><span class="line">  int l, r, sum, mx;</span><br><span class="line">} seg[100005];</span><br><span class="line">//=================</span><br><span class="line">int main() {</span><br><span class="line">  // freopen("tree.in", "r", stdin);</span><br><span class="line">  //  freopen("tree.out", "w", stdout);</span><br><span class="line"></span><br><span class="line">  scanf("%d", &amp;n);</span><br><span class="line">  for (int i = 1; i &lt; n; i++) {</span><br><span class="line">    int u, v;</span><br><span class="line">    scanf("%d %d", &amp;u, &amp;v);</span><br><span class="line">    G[u].push_back(v);</span><br><span class="line">    G[v].push_back(u);</span><br><span class="line">  }</span><br><span class="line">  for (int i = 1; i &lt;= n; i++)</span><br><span class="line">    cin &gt;&gt; weigh[i];</span><br><span class="line">  solve();</span><br><span class="line">  return 0;</span><br><span class="line">}</span><br><span class="line">void build(int k, int l, int r) {</span><br><span class="line">  seg[k].l = l;</span><br><span class="line">  seg[k].r = r;</span><br><span class="line">  if (l == r)</span><br><span class="line">    return;</span><br><span class="line">  int mid = (l + r) &gt;&gt; 1;</span><br><span class="line">  build(k &lt;&lt; 1, l, mid);</span><br><span class="line">  build(k &lt;&lt; 1 | 1, mid + 1, r);</span><br><span class="line">  return;</span><br><span class="line">}</span><br><span class="line">void change(int k, int x, int y) {</span><br><span class="line">  int l = seg[k].l, r = seg[k].r, mid = (l + r) &gt;&gt; 1;</span><br><span class="line">  if (l == r) {</span><br><span class="line">    seg[k].sum = seg[k].mx = y;</span><br><span class="line">    return;</span><br><span class="line">  }</span><br><span class="line">  if (x &lt;= mid)</span><br><span class="line">    change(k &lt;&lt; 1, x, y);</span><br><span class="line">  else</span><br><span class="line">    change(k &lt;&lt; 1 | 1, x, y);</span><br><span class="line">  seg[k].sum = seg[k &lt;&lt; 1].sum + seg[k &lt;&lt; 1 | 1].sum;</span><br><span class="line">  seg[k].mx = max(seg[k &lt;&lt; 1].mx, seg[k &lt;&lt; 1 | 1].mx);</span><br><span class="line">}</span><br><span class="line">void solve() {</span><br><span class="line">  build_tree(1);</span><br><span class="line">  dfs(1, 1);</span><br><span class="line">  build(1, 1, n);</span><br><span class="line">  for (int i = 1; i &lt;= n; i++) {</span><br><span class="line">    change(1, id[i], weigh[i]);</span><br><span class="line">  }</span><br><span class="line">  int t;</span><br><span class="line">  cin &gt;&gt; t;</span><br><span class="line">  while (t--) {</span><br><span class="line">    int p, u, v;</span><br><span class="line">    char command[10];</span><br><span class="line">    scanf("%s", command);</span><br><span class="line">    scanf("%d %d", &amp;u, &amp;v);</span><br><span class="line">    if (command[1] == 'M')</span><br><span class="line">      printf("%d\n", path_max(u, v));</span><br><span class="line">    else if (command[1] == 'S')</span><br><span class="line">      printf("%d\n", path_sum(u, v));</span><br><span class="line">    else</span><br><span class="line">      change(1, id[u], v);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">void build_tree(int root) { // dfs1</span><br><span class="line">  vector&lt;int&gt;::iterator it;</span><br><span class="line">  size[root] = 1;</span><br><span class="line">  vis[root] = 1;</span><br><span class="line">  int Max = -1;</span><br><span class="line">  int ans = -1;</span><br><span class="line">  for (it = G[root].begin(); it != G[root].end(); it++)</span><br><span class="line">    if (!vis[(*it)]) {</span><br><span class="line">      int &amp;v = *it;</span><br><span class="line">      depth[v] = depth[root] + 1;</span><br><span class="line">      fa[v] = root;</span><br><span class="line">      build_tree(v);</span><br><span class="line">      size[root] += size[v];</span><br><span class="line">      son[root].push_back(v);</span><br><span class="line">      if (size[v] &gt; Max) {</span><br><span class="line">        Max = size[v];</span><br><span class="line">        ans = v;</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  next[root] = ans;</span><br><span class="line">}</span><br><span class="line">void dfs(int root, int chain) { // dfs2</span><br><span class="line">  id[root] = ++nz;</span><br><span class="line">  top[root] = chain;</span><br><span class="line">  if (son[root].empty())</span><br><span class="line">    return;</span><br><span class="line">  dfs(next[root], chain);</span><br><span class="line">  std::vector&lt;int&gt;::iterator it;</span><br><span class="line">  for (it = son[root].begin(); it != son[root].end(); it++) {</span><br><span class="line">    int &amp;v = *it;</span><br><span class="line">    if (v != next[root]) {</span><br><span class="line">      dfs(v, v);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  return;</span><br><span class="line">}</span><br><span class="line">int query_max(int num, int ql, int qr) {</span><br><span class="line">  int L = seg[num].l;</span><br><span class="line">  int R = seg[num].r;</span><br><span class="line">  int mid = (L + R) &gt;&gt; 1;</span><br><span class="line">  if (L == ql &amp;&amp; R == qr)</span><br><span class="line">    return seg[num].mx;</span><br><span class="line">  else if (qr &lt;= mid)</span><br><span class="line">    return query_max(num &lt;&lt; 1, ql, qr);</span><br><span class="line">  else if (ql &gt; mid)</span><br><span class="line">    return query_max(num &lt;&lt; 1 | 1, ql, qr);</span><br><span class="line">  else</span><br><span class="line">    return max(query_max(num &lt;&lt; 1, ql, mid),</span><br><span class="line">               query_max(num &lt;&lt; 1 | 1, mid + 1, qr));</span><br><span class="line">}</span><br><span class="line">int query_sum(int num, int ql, int qr) {</span><br><span class="line">  int L = seg[num].l;</span><br><span class="line">  int R = seg[num].r;</span><br><span class="line">  int mid = (L + R) &gt;&gt; 1;</span><br><span class="line">  if (L == ql &amp;&amp; R == qr)</span><br><span class="line">    return seg[num].sum;</span><br><span class="line">  else if (qr &lt;= mid)</span><br><span class="line">    return query_sum(num &lt;&lt; 1, ql, qr);</span><br><span class="line">  else if (ql &gt; mid)</span><br><span class="line">    return query_sum(num &lt;&lt; 1 | 1, ql, qr);</span><br><span class="line">  else</span><br><span class="line">    return query_sum(num &lt;&lt; 1, ql, mid) + query_sum(num &lt;&lt; 1 | 1, mid + 1, qr);</span><br><span class="line">}</span><br><span class="line">int path_max(int x, int y) {</span><br><span class="line">  int mx = -0x3f3f3f;</span><br><span class="line">  while (top[x] != top[y]) {</span><br><span class="line">    if (depth[top[x]] &lt; depth[top[y]])</span><br><span class="line">      swap(x, y);</span><br><span class="line">    mx = max(mx, query_max(1, id[top[x]], id[x]));</span><br><span class="line">    x = fa[top[x]];</span><br><span class="line">  }</span><br><span class="line">  if (id[x] &gt; id[y])</span><br><span class="line">    swap(x, y);</span><br><span class="line">  mx = max(mx, query_max(1, id[x], id[y]));</span><br><span class="line">  return mx;</span><br><span class="line">}</span><br><span class="line">int path_sum(int u, int v) {</span><br><span class="line">  int sum = 0;</span><br><span class="line">  while (top[u] != top[v]) {</span><br><span class="line">    if (depth[top[u]] &lt; depth[top[v]])</span><br><span class="line">      swap(u, v);</span><br><span class="line">    sum += query_sum(1, id[top[u]], id[u]);</span><br><span class="line">    u = fa[top[u]];</span><br><span class="line">  }</span><br><span class="line">  if (id[u] &gt; id[v])</span><br><span class="line">    swap(u, v);</span><br><span class="line">  sum += query_sum(1, id[u], id[v]);</span><br><span class="line">  return sum;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Chen Geng</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">180</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">97</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      
<script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
<div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div id="myCanvasContainer" class="widget tagcloud">
        <canvas width="250" height="250" id="resCanvas" style="width:100%">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2-SAT/" rel="tag">2-SAT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/" rel="tag">AC自动机</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BSGS/" rel="tag">BSGS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDQ%E5%88%86%E6%B2%BB/" rel="tag">CDQ分治</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FFT/" rel="tag">FFT</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KMP/" rel="tag">KMP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Manacher/" rel="tag">Manacher</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NTT/" rel="tag">NTT</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Polya%E5%AE%9A%E7%90%86/" rel="tag">Polya定理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prufer%E7%BC%96%E7%A0%81/" rel="tag">Prufer编码</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/" rel="tag">STL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trie/" rel="tag">Trie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dfs%E5%BA%8F%E5%88%97/" rel="tag">dfs序列</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lca/" rel="tag">lca</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lct/" rel="tag">lct</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spfa/" rel="tag">spfa</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/splay/" rel="tag">splay</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8A%E4%B8%8B%E7%95%8C%E7%BD%91%E7%BB%9C%E6%B5%81/" rel="tag">上下界网络流</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BB%E5%B8%AD%E6%A0%91/" rel="tag">主席树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B9%B1%E6%90%9E/" rel="tag">乱搞</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86%E5%9B%BE/" rel="tag">二分图</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E4%BB%B7%E6%8F%90%E5%89%8D%E8%AE%A1%E7%AE%97/" rel="tag">代价提前计算</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%80%8D%E5%A2%9E/" rel="tag">倍增</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%87%B8%E5%8C%85/" rel="tag">凸包</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%9D%97/" rel="tag">分块</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B1%82%E5%9B%BE/" rel="tag">分层图</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E6%95%B0%E8%A7%84%E5%88%92/" rel="tag">分数规划</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E7%82%B9%E5%88%86%E6%B2%BB/" rel="tag">动态点分治</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" rel="tag">动态规划</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%95%E8%B0%83%E6%A0%88/" rel="tag">单调栈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/" rel="tag">单调队列</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" rel="tag">博弈论</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E6%A0%B9/" rel="tag">原根</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84/" rel="tag">后缀数组</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8E%E7%BC%80%E8%87%AA%E5%8A%A8%E6%9C%BA/" rel="tag">后缀自动机</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E8%AE%BA/" rel="tag">图论</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E9%A1%B9%E5%BC%8F/" rel="tag">多项式</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A5%BD%E9%A2%98/" rel="tag">好题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E5%85%B8%E5%BA%8F/" rel="tag">字典序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" rel="tag">字符串</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/" rel="tag">字符串哈希</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">学习笔记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/" rel="tag">容斥原理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B3%E9%9D%A2%E5%9B%BE/" rel="tag">平面图</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" rel="tag">并查集</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%BF%E4%B9%89%E5%90%8E%E7%BC%80%E8%87%AA%E5%8A%A8%E6%9C%BA/" rel="tag">广义后缀自动机</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F/" rel="tag">强连通分量</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%86%E7%82%B9/" rel="tag">拆点</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%AC%E5%8F%B7%E5%BA%8F%E5%88%97/" rel="tag">括号序列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%90%9C%E7%B4%A2/" rel="tag">搜索</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%91%B8%E9%B1%BC/" rel="tag">摸鱼</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E4%BD%8DDP/" rel="tag">数位DP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/" rel="tag">数学知识</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a><span class="tag-list-count">37</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E8%AE%BA/" rel="tag">数论</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%9C%E7%8E%87%E4%BC%98%E5%8C%96/" rel="tag">斜率优化</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%A4%A7%E6%B5%81/" rel="tag">最大流</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%B0%8F%E5%89%B2/" rel="tag">最小割</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%83%E5%80%BC%E7%BA%BF%E6%AE%B5%E6%A0%91/" rel="tag">权值线段树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%8E%E8%B6%85%E7%BA%BF%E6%AE%B5%E6%A0%91/" rel="tag">李超线段树</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%9A%E4%B8%BE/" rel="tag">枚举</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E4%B8%8A%E5%80%8D%E5%A2%9E/" rel="tag">树上倍增</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E5%A5%97%E6%A0%91/" rel="tag">树套树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E5%BD%A2DP/" rel="tag">树形DP</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E5%BD%A2dp/" rel="tag">树形dp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/" rel="tag">树状数组</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/" rel="tag">树链剖分</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9E%8B%E8%BD%AC%E5%8C%96/" rel="tag">模型转化</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E6%9D%BF/" rel="tag">模板</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/" rel="tag">欧拉函数</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%82%B9%E5%88%86%E6%B2%BB/" rel="tag">点分治</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E6%AE%8A%E6%95%B0%E5%88%97/" rel="tag">特殊数列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8A%B6%E5%8E%8BDP/" rel="tag">状压DP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B0/" rel="tag">生成函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%88%90%E6%A0%91/" rel="tag">生成树</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%88%90%E6%A0%91%E8%AE%A1%E6%95%B0/" rel="tag">生成树计数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%A9%E9%98%B5%E4%B9%98%E6%B3%95/" rel="tag">矩阵乘法</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%A9%E9%98%B5%E6%A0%91%E5%AE%9A%E7%90%86/" rel="tag">矩阵树定理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A6%BB%E6%95%A3%E5%AF%B9%E6%95%B0/" rel="tag">离散对数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A6%BB%E7%BA%BF%E5%A4%84%E7%90%86/" rel="tag">离线处理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92/" rel="tag">线性规划</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" rel="tag">线段树</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/" rel="tag">组合数学</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%93%E8%AE%BA%E9%A2%98/" rel="tag">结论题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E6%B5%81/" rel="tag">网络流</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8E%AB%E9%98%9F%E7%AE%97%E6%B3%95/" rel="tag">莫队算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%92%9F%E8%92%BB/" rel="tag">蒟蒻</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0-GNN-GCN-human-pose/" rel="tag">论文笔记, GNN, GCN, human, pose</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9F%E7%8E%AF/" rel="tag">负环</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%AA%E5%BF%83/" rel="tag">贪心</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%B9%E7%94%A8%E6%B5%81/" rel="tag">费用流</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%80%E6%B5%81/" rel="tag">退流</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%92%E5%BD%92/" rel="tag">递归</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E6%96%AF%E6%B6%88%E5%85%83/" rel="tag">高斯消元</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E7%B2%BE%E5%BA%A6/" rel="tag">高精度</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%BB%98%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94/" rel="tag">默比乌斯反演</a><span class="tag-list-count">2</span></li></ul>
        </canvas>
    </div>
</div>


    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen Geng</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
